@model  OnlineShop.Service.ModelViews.ProductView
@using System.Globalization
@{
    ViewBag.Title = "Product Edit";
}

<div id="main">
    <section id="widget-grid" class="catContent grid-container">


        <!-- row -->
        <div class="row">

            <!-- NEW WIDGET START -->
            <article class="col-sm-6 sortable-grid ui-sortable">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget jarviswidget-sortable" id="wid-id-0" data-widget-colorbutton="false" data-widget-editbutton="false" role="widget">
                    <header role="heading">
                        <div class="jarviswidget-ctrls" role="menu">  </div>
                        <span class="widget-icon">  </span>
                        <h2>Product</h2>

                        <span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>
                    </header>

                    <!-- widget div-->
                    <div class="row">
                        <div class="col-md-12">
                            <div role="content">
                                    
                                <!-- widget edit box -->
                                <div class="jarviswidget-editbox">
                                    <!-- This area used as dropdown edit box -->

                                </div>
                                <!-- end widget edit box -->
                                <!-- widget content -->
                                <div class="widget-body">
                                    @using (Html.BeginForm("upsert", "product", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
                                    {
                                        @Html.HiddenFor(x => x.Id)
                                        <fieldset>
                                            <legend>@(Model.Id > 0 ? "Update" : "Add") Product</legend>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Name</label>
                                                <div class="col-md-6">
                                                    @Html.TextBoxFor(x => x.Name, new { @class = "form-control", placeholder = "Name" })
                                                </div>
                                                @Html.ValidationMessageFor(model => model.Name, null, new { @class = "col-md-4" })
                                            </div>

                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Description</label>
                                                <div class="col-md-6">
                                                    @Html.TextAreaFor(x => x.Description, new { @class = "form-control", placeholder = "Description",rows="3" })
                                                </div>
                                                @Html.ValidationMessageFor(model => model.Description, null, new { @class = "col-md-4" })
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Price</label>
                                                <div class="col-md-6">
                                                    @Html.TextBoxFor(x => x.Price, new { @class = "form-control", placeholder = "Price" })
                                                </div>
                                                @Html.ValidationMessageFor(model => model.Price, null, new { @class = "col-md-4" })
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Price</label>
                                                <div class="col-md-6">
                                                    @Html.DropDownListFor(model => model.CategoryId, Model.CategorySelectItems)
                                                </div>
                                                @Html.ValidationMessageFor(model => model.CategoryId, null, new { @class = "col-md-4" })
                                            </div>
                                            @if (Model.Id > 0)
                                            {
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label">Product image path</label>
                                                    <div class="col-md-6">
                                                        @Model.ProductImagePath
                                                    </div>
                                                </div>
                                            }
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Product Image</label>
                                                <div class="col-md-6">
                                                    @Html.TextBoxFor(model => model.ImageUpload, new { type = "file" })
                                                </div>
                                                @Html.ValidationMessageFor(model => model.ImageUpload, null, new { @class = "col-md-4" })
                                            </div>
                                            <div class="form-group">
                                                <div class="col-md-2"></div>
                                                <div class="col-md-6">
                                                    <button type="submit" class="btn btn-default btn-sm">@(Model.Id > 0 ? "Update" : "Add")</button>
                                                    @Html.ActionLink("Back", "list", "product", null, new { @class = "btn btn-default btn-sm pull-right" })
                                                    </div>
                                                </div>
</fieldset>


                                    }


                                </div>
                                <!-- end widget content -->

                            </div>
                        </div>
                    </div>
                 
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->

                </article>
                <!-- WIDGET END -->

            </div>


        </section>
    </div>
